// NoSleep.min.js v0.3.0 - git.io/vfn01 - Rich Tibbett - MIT license
!function(e){function i(e,i,n){var o=document.createElement("source");o.src="./resources/blank."+i,o.type="video/"+n,e.appendChild(o)}var n={Android:/Android/gi.test(navigator.userAgent),iOS:/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent)},o=function(){return this.noSleepTimer=null,n.Android&&(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.addEventListener("ended",function(){this.play()}),i(this.noSleepVideo,"m4v","mp4"),i(this.noSleepVideo,"webm","webm"),i(this.noSleepVideo,"ogv","ogg")),this};o.prototype.enable=function(e){n.iOS?(this.disable(),this.noSleepTimer=window.setInterval(function(){window.location=window.location,window.setTimeout(window.stop,0)},e||15e3)):n.Android&&this.noSleepVideo.play()},o.prototype.disable=function(){n.iOS?this.noSleepTimer&&(window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):n.Android&&this.noSleepVideo.pause()},e.NoSleep=o}(this);
